/*! NASA Module: Canvas by @vizualover | http://github.com/nijikokun/NASA | http://aol.nexua.org */
var nasa="undefined"===typeof nasa||"object"!==typeof nasa?{}:nasa;
(function(d,e,c){"undefined"!==typeof module&&module.exports?module.exports=e():"function"===typeof define&&define.amd?define(d,e):c[d]=e()})("canvas",function(){return function(d){var e,c,f=!1,g={lineTo:1,arc:1,rect:1,quadraticCurveTo:1,bezierCurveTo:1},d=d||{};"width"in d||(d.width=300);"height"in d||(d.height=150);"scale"in d||(d.scale=!0);d.type="webgl"===d.type?"experimental-webgl":"2d";return{_canvas:e,_context:c,create:function(){if(e)throw Error("Canvas element has already been created.");e=
document.createElement("canvas");e.setAttribute("width",d.width);e.setAttribute("height",d.height);if(d.scale){e.style.width=d.width;e.style.height=d.height}if(e.getContext)c=e.getContext(d.type);else throw Error("Canvas not supported in this browser.");return e},clear:function(a){var b=[].slice.apply(arguments);if(a){c.save();c.setTransform(1,0,0,1,0,0)}if(b.length<1)c.clearRect(0,0,d.width,d.height);else{b.splice(0,1);c.clearRect.apply(c,arguments)}a&&c.restore();return this},setStyles:function(a){a=
a||{};if("composite"in a)c.globalCompositeOperation=a.composite;if("alpha"in a)c.globalAlpha=a.alpha;if(a.fill&&"color"in a.fill)c.fillStyle=a.fill.color;if(a.stroke){if("width"in a.stroke)c.lineWidth=a.stroke.width;if("caps"in a.stroke)c.lineCap=a.stroke.caps;if("joints"in a.stroke)c.lineJoin=a.stroke.joints;if("color"in a.stroke)c.strokeStyle=a.stroke.color;if("miter"in a.stroke)c.miterLimit=a.stroke.miter}if(a.shadow){if("offsetX"in a.shadow)c.shadowOffsetX=a.shadow.offsetX;if("offsetY"in a.shadow)c.shadowOffsetY=
a.shadow.offsetY;if("blur"in a.shadow)c.shadowBlur=a.shadow.blur;if("color"in a.shadow)c.shadowColor=a.shadow.color}return this},startPath:function(a,b){if(f)throw Error("A path has already been defined, please end path before creating a new one.");a!==null&&b!==null&&c.moveTo(a,b);c.beginPath();f=true;return this},defineSegments:function(a){if(!f)throw Error("No path has been started, please create a path first.");for(var b,d,a=a||{},e=0;e<a.length;e++){b=a[e];d=Object.keys(b)[0];d in g&&c[d].apply(c,
b[d])}return this},endPath:function(a){if(!f)throw Error("No path has been started, please create a path first.");a=a||{close:true};a.close&&c.closePath();a.fill&&c.fill();a.stroke&&c.stroke();f=false;return this},arc:function(){if(arguments.length===0)return this;c.arc.apply(c,arguments);return this},circle:function(a){a=a||{};a.x=a.x||0;a.y=a.y||0;a.size=a.size||10;a.angle=a.angle||0;a.clockwise=a.clockwise||true;c.arc([a.x,a.y,a.size,a.angle,Math.PI*2,a.clockwise]);return this},rect:function(a){a=
a||{};a.path?this.defineSegments([{rect:a.path}]):a.stroke?c.strokeRect.apply(c,a.stroke):a.fill&&c.fillRect.apply(c,a.fill);return this},transform:function(a){a=a||{};"translate"in a&&c.translate(a.translate.x,a.translate.y);"scale"in a&&c.scale(a.scale.x,a.scale.y);"rotate"in a&&c.rotate(a.rotate);return this},move:function(a,b){c.moveTo(a,b);return this},pushState:function(){c.save();return this},popState:function(){c.restore();return this},clip:function(){c.clip();return this},getImage:function(a){var b,
a=a||{};if(a.bitmap)return c[a.hd?"getImageDataHD":"getImageData"](a.bitmap.x||0,a.bitmap.y||0,a.bitmap.width||d.width,a.bitmap.height||d.height);if(a.dataURL){if("x"in a.dataURL&&"y"in a.dataURL||"width"in a.dataURL&&"height"in a.dataURL){b=document.createElement("canvas");b.setAttribute("width",a.dataURL.width||d.width);b.setAttribute("height",a.dataURL.height||d.height);b=b.getContext("2d");b.drawImage(e,a.dataURL.x||0,a.dataURL.y||0,a.dataURL.width||d.width,a.dataURL.height||d.height,0,0,a.dataURL.width||
d.width,a.dataURL.height||d.height);return b[a.hd?"toDataURLHD":"toDataURL"](a.dataURL.type)}}else return e[a.hd?"toDataURLHD":"toDataURL"](a.dataURL.type)},putImage:function(a,b){var d,b=b||{};if(b.bitmap)return c[b.hd?"putImageDataHD":"putImageData"](a,b.bitmap.x||0,b.bitmap.y||0);if(b.dataURL){d=[a];"x"in b.dataURL&&"y"in b.dataURL&&d.push(b.dataURL.x,b.dataURL.y);"width"in b.dataURL&&"height"in b.dataURL&&d.push(b.dataURL.width,b.dataURL.height);"sx"in b.dataURL&&"sy"in b.dataURL&&("dx"in b.dataURL&&
"dy"in b.dataURL&&"sWidth"in b.dataURL&&"sHeight"in b.dataURL&&"dWidth"in b.dataURL&&"dHeight"in b.dataURL)&&d.push(b.dataURL.sx,b.dataURL.sy,b.dataURL.sWidth,b.dataURL.sHeight,b.dataURL.dx,opts.dataURL.dy,opts.dataURL.dWidth,opts.dataURL.dHeight);c.drawImage.apply(c,d)}}}}},nasa);